<section class="section-padding">
  <div class="container">
    <div class="section-heading reveal">
      <h2>{{ section.settings.heading | default: 'Featured Collections' }}</h2>
      <p>{{ section.settings.subheading | default: 'Explore our most popular curated collections' }}</p>
    </div>

    <div class="collections-grid stagger-children">
      {%- for block in section.blocks -%}
        {%- assign is_large = false -%}
        {%- assign is_tall = false -%}
        {%- if forloop.index == 1 or forloop.index == 4 or forloop.index == 8 -%}{%- assign is_large = true -%}{%- endif -%}
        {%- if forloop.index == 2 or forloop.index == 6 -%}{%- assign is_tall = true -%}{%- endif -%}

        <div class="{% if is_large %}large{% endif %} {% if is_tall %}tall{% endif %} reveal" {{ block.shopify_attributes }}>
          <a href="{{ block.settings.link | default: '/collections/all' }}" class="collection-tile">
            {%- if block.settings.image -%}
              <img src="{{ block.settings.image | image_url: width: 800 }}" alt="{{ block.settings.title }}" loading="lazy">
            {%- else -%}
              <div style="width:100%;height:100%;background:var(--color-off-white);"></div>
            {%- endif -%}
            <div class="tile-overlay"></div>
            <div class="tile-border"></div>
            <div class="tile-content">
              <h3 class="tile-title font-display">{{ block.settings.title }}</h3>
              <span class="tile-explore">Explore â†’</span>
            </div>
          </a>
        </div>
      {%- endfor -%}
    </div>
  </div>
</section>

{% schema %}
{
  "name": "Featured Collections",
  "settings": [
    { "type": "text", "id": "heading", "label": "Heading", "default": "Featured Collections" },
    { "type": "text", "id": "subheading", "label": "Subheading", "default": "Explore our most popular curated collections" }
  ],
  "blocks": [
    {
      "type": "collection_tile",
      "name": "Collection Tile",
      "settings": [
        { "type": "text", "id": "title", "label": "Title", "default": "Collection" },
        { "type": "image_picker", "id": "image", "label": "Image" },
        { "type": "url", "id": "link", "label": "Link" }
      ]
    }
  ],
  "presets": [{ "name": "Featured Collections", "blocks": [
    { "type": "collection_tile", "settings": { "title": "Music" } },
    { "type": "collection_tile", "settings": { "title": "Christianity" } },
    { "type": "collection_tile", "settings": { "title": "Vintage Art" } },
    { "type": "collection_tile", "settings": { "title": "Cars" } },
    { "type": "collection_tile", "settings": { "title": "Smoking & Cigars" } },
    { "type": "collection_tile", "settings": { "title": "Bar Decor" } },
    { "type": "collection_tile", "settings": { "title": "Ansel Adams" } },
    { "type": "collection_tile", "settings": { "title": "Cities" } },
    { "type": "collection_tile", "settings": { "title": "History" } },
    { "type": "collection_tile", "settings": { "title": "Animals" } }
  ] }]
}
{% endschema %}
