<section class="section-padding">
  <div class="container">
    <div class="section-heading reveal">
      <h2>{{ section.settings.heading | default: 'Popular Categories' }}</h2>
    </div>
    <div class="popular-grid stagger-children">
      {%- for block in section.blocks -%}
        <div class="reveal" {{ block.shopify_attributes }}>
          <a href="{{ block.settings.link | default: '/collections/all' }}" class="popular-tile">
            {%- if block.settings.image -%}
              <img src="{{ block.settings.image | image_url: width: 600 }}" alt="{{ block.settings.title }}" loading="lazy">
            {%- else -%}
              <div style="width:100%;height:100%;background:var(--color-off-white);"></div>
            {%- endif -%}
            <div class="popular-overlay"></div>
            <h3 class="popular-title font-display">{{ block.settings.title }}</h3>
          </a>
        </div>
      {%- endfor -%}
    </div>
  </div>
</section>

{% schema %}
{
  "name": "Popular Categories",
  "settings": [
    { "type": "text", "id": "heading", "label": "Heading", "default": "Popular Categories" }
  ],
  "blocks": [
    {
      "type": "category",
      "name": "Category",
      "settings": [
        { "type": "text", "id": "title", "label": "Title", "default": "Category" },
        { "type": "image_picker", "id": "image", "label": "Image" },
        { "type": "url", "id": "link", "label": "Link" }
      ]
    }
  ],
  "presets": [{ "name": "Popular Categories", "blocks": [
    { "type": "category", "settings": { "title": "Bathroom" } },
    { "type": "category", "settings": { "title": "Claude Monet" } },
    { "type": "category", "settings": { "title": "Landscapes" } },
    { "type": "category", "settings": { "title": "Van Gogh" } },
    { "type": "category", "settings": { "title": "Maps" } },
    { "type": "category", "settings": { "title": "WWII History" } }
  ] }]
}
{% endschema %}
